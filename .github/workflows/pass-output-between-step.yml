name: Add Numbers and Print Result

on: workflow_dispatch

jobs:
  calculate_sum:
    runs-on: ubuntu-latest

    steps:
      - name: Set up Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '14'

      - name: Calculate Sum
        id: calculate_sum
        run: |
          NUM1=5
          NUM2=7
          SUM=$((NUM1 + NUM2))
          echo "SUM=$SUM"
          echo "sum_result=$SUM" >> "$GITHUB_OUTPUT"

  print_result:
    runs-on: ubuntu-latest

    needs: calculate_sum

    steps:
      - name: Display Sum Result
        env: 
          sum_result: ${{ needs.calculate_sum.outputs.sum_result }}
        run: |
          echo "The sum is: $sum_result"

      - name: Set color
        id: color-selector
        run: echo "SELECTED_COLOR=green" >> "$GITHUB_OUTPUT"
        
      - name: Get color
        env:
          SELECTED_COLOR: ${{ steps.color-selector.outputs.SELECTED_COLOR }}
        run: echo "The selected color is $SELECTED_COLOR"

